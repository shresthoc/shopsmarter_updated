{"ast":null,"code":"var _jsxFileName = \"/Users/shresthochatterjee/Documents/VSCode/shopsmarter/frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nfunction App() {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [prompt, setPrompt] = useState('');\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedImage(URL.createObjectURL(file));\n    }\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!selectedImage) return;\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      const response = await fetch(selectedImage);\n      const blob = await response.blob();\n      formData.append('image', blob, 'image.jpg');\n      if (prompt) {\n        formData.append('prompt', prompt);\n      }\n      console.log('Sending request to backend...');\n      const result = await fetch('/api/query', {\n        method: 'POST',\n        body: formData\n      });\n      if (!result.ok) {\n        throw new Error(`HTTP error! status: ${result.status}`);\n      }\n      const data = await result.json();\n      console.log('Received response:', data);\n      setResults(data.products || []);\n    } catch (error) {\n      console.error('Error details:', error);\n      alert('Error: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"ShopSmarter\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Upload an image to find similar products\")), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"upload-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: handleImageUpload,\n    id: \"image-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Choose an image\"), selectedImage && /*#__PURE__*/React.createElement(\"img\", {\n    src: selectedImage,\n    alt: \"Selected\",\n    className: \"preview-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"prompt-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: prompt,\n    onChange: e => setPrompt(e.target.value),\n    placeholder: \"Add a description (optional)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    disabled: !selectedImage || loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, loading ? 'Searching...' : 'Find Similar Products')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, results.map((product, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"product-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image_url,\n    alt: product.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, product.title), product.price && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, \"Price: $\", product.price), /*#__PURE__*/React.createElement(\"a\", {\n    href: product.url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"View Product\"))))));\n}\nexport default App;","map":{"version":3,"names":["React","useState","App","selectedImage","setSelectedImage","results","setResults","loading","setLoading","prompt","setPrompt","handleImageUpload","event","file","target","files","URL","createObjectURL","handleSubmit","preventDefault","formData","FormData","response","fetch","blob","append","console","log","result","method","body","ok","Error","status","data","json","products","error","alert","message","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","accept","onChange","id","htmlFor","src","alt","value","e","placeholder","disabled","map","product","index","key","image_url","title","price","href","url","rel"],"sources":["/Users/shresthochatterjee/Documents/VSCode/shopsmarter/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [prompt, setPrompt] = useState('');\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedImage(URL.createObjectURL(file));\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!selectedImage) return;\n\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      const response = await fetch(selectedImage);\n      const blob = await response.blob();\n      formData.append('image', blob, 'image.jpg');\n      if (prompt) {\n        formData.append('prompt', prompt);\n      }\n\n      console.log('Sending request to backend...');\n      const result = await fetch('/api/query', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!result.ok) {\n        throw new Error(`HTTP error! status: ${result.status}`);\n      }\n\n      const data = await result.json();\n      console.log('Received response:', data);\n      setResults(data.products || []);\n    } catch (error) {\n      console.error('Error details:', error);\n      alert('Error: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>ShopSmarter</h1>\n        <p>Upload an image to find similar products</p>\n      </header>\n\n      <main>\n        <form onSubmit={handleSubmit} className=\"upload-form\">\n          <div className=\"image-upload\">\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n              id=\"image-upload\"\n            />\n            <label htmlFor=\"image-upload\">Choose an image</label>\n            {selectedImage && (\n              <img\n                src={selectedImage}\n                alt=\"Selected\"\n                className=\"preview-image\"\n              />\n            )}\n          </div>\n\n          <div className=\"prompt-input\">\n            <input\n              type=\"text\"\n              value={prompt}\n              onChange={(e) => setPrompt(e.target.value)}\n              placeholder=\"Add a description (optional)\"\n            />\n          </div>\n\n          <button type=\"submit\" disabled={!selectedImage || loading}>\n            {loading ? 'Searching...' : 'Find Similar Products'}\n          </button>\n        </form>\n\n        <div className=\"results\">\n          {results.map((product, index) => (\n            <div key={index} className=\"product-card\">\n              <img src={product.image_url} alt={product.title} />\n              <h3>{product.title}</h3>\n              {product.price && <p>Price: ${product.price}</p>}\n              <a href={product.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                View Product\n              </a>\n            </div>\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}